<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sustainability Tools - EcoGlow Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .eco-green { color: #228B22; }
        .eco-bg-green { background-color: #228B22; }
        .calculator-card { transition: all 0.3s ease; }
        .calculator-card:hover { transform: translateY(-2px); }
        .badge-item { transition: all 0.2s ease; }
        .badge-item:hover { transform: scale(1.05); }
    </style>
</head>
<body class="bg-gray-50">
    <div id="sustainability-app"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Carbon Footprint Calculator Component
        const CarbonCalculator = () => {
            const [formData, setFormData] = useState({
                materialType: 'plant-derived',
                weight: '',
                packaging: 'recyclable',
                shippingOrigin: 'asia',
                shippingDestination: 'north-america',
                distance: '',
                transportMode: 'air'
            });

            const [result, setResult] = useState(null);
            const [breakdown, setBreakdown] = useState(null);

            // Emission factors (kg CO2e per unit)
            const emissionFactors = {
                materials: {
                    'plant-derived': 0.8,
                    'synthetic': 2.1,
                    'mineral': 1.2,
                    'petroleum': 3.5
                },
                packaging: {
                    'recyclable': 0.2,
                    'biodegradable': 0.15,
                    'plastic': 0.8,
                    'glass': 0.5
                },
                transport: {
                    'air': 0.002,
                    'sea': 0.0003,
                    'road': 0.0008,
                    'rail': 0.0001
                }
            };

            const predefinedDistances = {
                'asia-north-america': 12000,
                'asia-europe': 8500,
                'europe-north-america': 7000,
                'local': 500
            };

            const calculateFootprint = () => {
                const weight = parseFloat(formData.weight) || 0;
                const distance = formData.distance ? parseFloat(formData.distance) : predefinedDistances[`${formData.shippingOrigin}-${formData.shippingDestination}`] || 0;

                const materialEmission = weight * emissionFactors.materials[formData.materialType];
                const packagingEmission = weight * 0.2 * emissionFactors.packaging[formData.packaging]; // Assume packaging is 20% of product weight
                const transportEmission = weight * distance * emissionFactors.transport[formData.transportMode];

                const total = materialEmission + packagingEmission + transportEmission;

                setResult(total.toFixed(3));
                setBreakdown({
                    material: materialEmission.toFixed(3),
                    packaging: packagingEmission.toFixed(3),
                    transport: transportEmission.toFixed(3)
                });
            };

            const handleInputChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            return (
                <div className="bg-white rounded-lg shadow-sm p-6">
                    <div className="mb-6">
                        <h3 className="text-xl font-semibold text-gray-800 mb-2">Carbon Footprint Calculator</h3>
                        <p className="text-gray-600">Calculate the environmental impact of your products</p>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h4 className="text-lg font-medium text-gray-800 mb-4">Product Details</h4>
                            <div className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Material Type</label>
                                    <select 
                                        value={formData.materialType}
                                        onChange={(e) => handleInputChange('materialType', e.target.value)}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                    >
                                        <option value="plant-derived">Plant-derived (0.8 kg CO2e/kg)</option>
                                        <option value="synthetic">Synthetic (2.1 kg CO2e/kg)</option>
                                        <option value="mineral">Mineral (1.2 kg CO2e/kg)</option>
                                        <option value="petroleum">Petroleum-based (3.5 kg CO2e/kg)</option>
                                    </select>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Product Weight (grams)</label>
                                    <input 
                                        type="number"
                                        value={formData.weight}
                                        onChange={(e) => handleInputChange('weight', e.target.value)}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                        placeholder="100"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Packaging Type</label>
                                    <select 
                                        value={formData.packaging}
                                        onChange={(e) => handleInputChange('packaging', e.target.value)}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                    >
                                        <option value="recyclable">Recyclable</option>
                                        <option value="biodegradable">Biodegradable</option>
                                        <option value="plastic">Standard Plastic</option>
                                        <option value="glass">Glass</option>
                                    </select>
                                </div>
                            </div>

                            <h4 className="text-lg font-medium text-gray-800 mb-4 mt-8">Shipping Information</h4>
                            <div className="space-y-4">
                                <div className="grid grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Origin</label>
                                        <select 
                                            value={formData.shippingOrigin}
                                            onChange={(e) => handleInputChange('shippingOrigin', e.target.value)}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                        >
                                            <option value="asia">Asia</option>
                                            <option value="europe">Europe</option>
                                            <option value="north-america">North America</option>
                                            <option value="local">Local</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Destination</label>
                                        <select 
                                            value={formData.shippingDestination}
                                            onChange={(e) => handleInputChange('shippingDestination', e.target.value)}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                        >
                                            <option value="north-america">North America</option>
                                            <option value="europe">Europe</option>
                                            <option value="asia">Asia</option>
                                            <option value="local">Local</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Distance (km) - Optional</label>
                                    <input 
                                        type="number"
                                        value={formData.distance}
                                        onChange={(e) => handleInputChange('distance', e.target.value)}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                        placeholder="Auto-calculated based on origin/destination"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Transport Mode</label>
                                    <select 
                                        value={formData.transportMode}
                                        onChange={(e) => handleInputChange('transportMode', e.target.value)}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                    >
                                        <option value="air">Air Freight</option>
                                        <option value="sea">Sea Freight</option>
                                        <option value="road">Road Transport</option>
                                        <option value="rail">Rail Transport</option>
                                    </select>
                                </div>
                            </div>

                            <button 
                                onClick={calculateFootprint}
                                className="w-full eco-bg-green text-white py-3 rounded-lg hover:bg-green-700 transition-colors mt-6"
                            >
                                <i className="fas fa-calculator mr-2"></i>Calculate Carbon Footprint
                            </button>
                        </div>

                        <div>
                            <h4 className="text-lg font-medium text-gray-800 mb-4">Results</h4>
                            
                            {result && (
                                <div className="space-y-6">
                                    <div className="bg-green-50 rounded-lg p-6 text-center">
                                        <i className="fas fa-leaf text-4xl text-green-600 mb-4"></i>
                                        <h5 className="text-2xl font-bold text-green-800 mb-2">{result} kg CO2e</h5>
                                        <p className="text-green-700">Total Carbon Footprint</p>
                                    </div>

                                    <div className="bg-white border border-gray-200 rounded-lg p-6">
                                        <h6 className="font-semibold text-gray-800 mb-4">Breakdown</h6>
                                        <div className="space-y-3">
                                            <div className="flex justify-between items-center">
                                                <span className="text-gray-600">Materials:</span>
                                                <span className="font-semibold">{breakdown.material} kg CO2e</span>
                                            </div>
                                            <div className="flex justify-between items-center">
                                                <span className="text-gray-600">Packaging:</span>
                                                <span className="font-semibold">{breakdown.packaging} kg CO2e</span>
                                            </div>
                                            <div className="flex justify-between items-center">
                                                <span className="text-gray-600">Transport:</span>
                                                <span className="font-semibold">{breakdown.transport} kg CO2e</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="bg-blue-50 rounded-lg p-6">
                                        <h6 className="font-semibold text-blue-800 mb-2">Recommendations</h6>
                                        <ul className="text-blue-700 text-sm space-y-1">
                                            <li>• Use more plant-derived materials to reduce impact</li>
                                            <li>• Consider biodegradable packaging options</li>
                                            <li>• Sea freight produces 85% less emissions than air</li>
                                            <li>• Local sourcing can dramatically reduce transport emissions</li>
                                        </ul>
                                    </div>
                                </div>
                            )}

                            {!result && (
                                <div className="bg-gray-50 rounded-lg p-12 text-center">
                                    <i className="fas fa-chart-line text-4xl text-gray-400 mb-4"></i>
                                    <p className="text-gray-600">Enter product details to calculate carbon footprint</p>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // Eco Badges Management Component
        const EcoBadgeManager = () => {
            const [badges, setBadges] = useState([
                {
                    id: 'usda-organic',
                    name: 'USDA Organic',
                    description: 'Certified organic by USDA standards',
                    icon: 'fas fa-certificate',
                    color: 'green',
                    criteria: ['organic ingredients', '95% organic', 'usda certified'],
                    autoAssign: true,
                    productsCount: 12
                },
                {
                    id: 'vegan-society',
                    name: 'Vegan Society',
                    description: 'Certified vegan product',
                    icon: 'fas fa-leaf',
                    color: 'emerald',
                    criteria: ['vegan', 'plant-based', 'no animal products'],
                    autoAssign: true,
                    productsCount: 18
                },
                {
                    id: 'cruelty-free',
                    name: 'Cruelty-Free',
                    description: 'No animal testing',
                    icon: 'fas fa-heart',
                    color: 'pink',
                    criteria: ['cruelty-free', 'no animal testing', 'not tested on animals'],
                    autoAssign: true,
                    productsCount: 20
                },
                {
                    id: 'zero-waste',
                    name: 'Zero Waste',
                    description: 'Packaging produces zero waste',
                    icon: 'fas fa-recycle',
                    color: 'blue',
                    criteria: ['zero waste', 'no waste', 'fully recyclable'],
                    autoAssign: false,
                    productsCount: 8
                },
                {
                    id: 'carbon-neutral',
                    name: 'Carbon Neutral',
                    description: 'Net-zero carbon emissions',
                    icon: 'fas fa-globe',
                    color: 'indigo',
                    criteria: ['carbon neutral', 'net zero', 'carbon offset'],
                    autoAssign: false,
                    productsCount: 5
                }
            ]);

            const [showAddBadge, setShowAddBadge] = useState(false);
            const [newBadge, setNewBadge] = useState({
                name: '',
                description: '',
                icon: 'fas fa-award',
                color: 'green',
                criteria: [],
                autoAssign: false
            });

            const [criteriaInput, setCriteriaInput] = useState('');

            const colorOptions = [
                { value: 'green', label: 'Green', class: 'bg-green-100 text-green-800' },
                { value: 'blue', label: 'Blue', class: 'bg-blue-100 text-blue-800' },
                { value: 'purple', label: 'Purple', class: 'bg-purple-100 text-purple-800' },
                { value: 'pink', label: 'Pink', class: 'bg-pink-100 text-pink-800' },
                { value: 'yellow', label: 'Yellow', class: 'bg-yellow-100 text-yellow-800' },
                { value: 'indigo', label: 'Indigo', class: 'bg-indigo-100 text-indigo-800' }
            ];

            const iconOptions = [
                'fas fa-leaf', 'fas fa-certificate', 'fas fa-heart', 'fas fa-recycle',
                'fas fa-globe', 'fas fa-award', 'fas fa-star', 'fas fa-seedling'
            ];

            const addCriteria = () => {
                if (criteriaInput.trim()) {
                    setNewBadge(prev => ({
                        ...prev,
                        criteria: [...prev.criteria, criteriaInput.trim().toLowerCase()]
                    }));
                    setCriteriaInput('');
                }
            };

            const removeCriteria = (index) => {
                setNewBadge(prev => ({
                    ...prev,
                    criteria: prev.criteria.filter((_, i) => i !== index)
                }));
            };

            const saveBadge = () => {
                const badge = {
                    ...newBadge,
                    id: newBadge.name.toLowerCase().replace(/\s+/g, '-'),
                    productsCount: 0
                };
                setBadges(prev => [...prev, badge]);
                setNewBadge({
                    name: '',
                    description: '',
                    icon: 'fas fa-award',
                    color: 'green',
                    criteria: [],
                    autoAssign: false
                });
                setShowAddBadge(false);
            };

            const deleteBadge = (badgeId) => {
                if (confirm('Are you sure you want to delete this badge?')) {
                    setBadges(prev => prev.filter(b => b.id !== badgeId));
                }
            };

            const runAutoAssignment = () => {
                // Simulate auto-assignment process
                alert('Auto-assignment process started. This will scan all products and assign badges based on descriptions and criteria.');
            };

            const getColorClass = (color) => {
                const colorMap = {
                    green: 'bg-green-100 text-green-800',
                    blue: 'bg-blue-100 text-blue-800',
                    purple: 'bg-purple-100 text-purple-800',
                    pink: 'bg-pink-100 text-pink-800',
                    yellow: 'bg-yellow-100 text-yellow-800',
                    indigo: 'bg-indigo-100 text-indigo-800',
                    emerald: 'bg-emerald-100 text-emerald-800'
                };
                return colorMap[color] || 'bg-gray-100 text-gray-800';
            };

            return (
                <div className="bg-white rounded-lg shadow-sm p-6">
                    <div className="flex justify-between items-center mb-6">
                        <div>
                            <h3 className="text-xl font-semibold text-gray-800 mb-2">Eco Badge Management</h3>
                            <p className="text-gray-600">Manage sustainability badges and auto-assignment rules</p>
                        </div>
                        <div className="flex space-x-3">
                            <button 
                                onClick={runAutoAssignment}
                                className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                <i className="fas fa-magic mr-2"></i>Run Auto-Assignment
                            </button>
                            <button 
                                onClick={() => setShowAddBadge(true)}
                                className="eco-bg-green text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                            >
                                <i className="fas fa-plus mr-2"></i>Add Badge
                            </button>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {badges.map(badge => (
                            <div key={badge.id} className="border border-gray-200 rounded-lg p-6 badge-item hover:shadow-md">
                                <div className="flex justify-between items-start mb-4">
                                    <div className={`w-12 h-12 rounded-lg flex items-center justify-center ${getColorClass(badge.color)}`}>
                                        <i className={badge.icon}></i>
                                    </div>
                                    <div className="flex space-x-2">
                                        {badge.autoAssign && (
                                            <span className="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Auto</span>
                                        )}
                                        <button 
                                            onClick={() => deleteBadge(badge.id)}
                                            className="text-red-600 hover:text-red-800"
                                        >
                                            <i className="fas fa-trash text-sm"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <h4 className="font-semibold text-gray-800 mb-2">{badge.name}</h4>
                                <p className="text-gray-600 text-sm mb-4">{badge.description}</p>
                                
                                <div className="mb-4">
                                    <h5 className="text-sm font-medium text-gray-700 mb-2">Criteria Keywords:</h5>
                                    <div className="flex flex-wrap gap-1">
                                        {badge.criteria.map((criterion, index) => (
                                            <span key={index} className="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded">
                                                {criterion}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                                
                                <div className="flex justify-between items-center text-sm text-gray-600">
                                    <span>{badge.productsCount} products</span>
                                    <button className="text-blue-600 hover:text-blue-800">
                                        <i className="fas fa-edit mr-1"></i>Edit
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Add Badge Modal */}
                    {showAddBadge && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
                            <div className="bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto">
                                <div className="p-6 border-b border-gray-200">
                                    <div className="flex justify-between items-center">
                                        <h3 className="text-xl font-semibold text-gray-800">Add New Badge</h3>
                                        <button 
                                            onClick={() => setShowAddBadge(false)}
                                            className="text-gray-400 hover:text-gray-600"
                                        >
                                            <i className="fas fa-times text-xl"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div className="p-6">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Badge Name</label>
                                            <input 
                                                type="text"
                                                value={newBadge.name}
                                                onChange={(e) => setNewBadge(prev => ({ ...prev, name: e.target.value }))}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                                placeholder="e.g., Fair Trade"
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Color</label>
                                            <select 
                                                value={newBadge.color}
                                                onChange={(e) => setNewBadge(prev => ({ ...prev, color: e.target.value }))}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                            >
                                                {colorOptions.map(color => (
                                                    <option key={color.value} value={color.value}>{color.label}</option>
                                                ))}
                                            </select>
                                        </div>
                                        
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Description</label>
                                            <textarea 
                                                value={newBadge.description}
                                                onChange={(e) => setNewBadge(prev => ({ ...prev, description: e.target.value }))}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                                rows="3"
                                                placeholder="Describe what this badge represents..."
                                            ></textarea>
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Icon</label>
                                            <select 
                                                value={newBadge.icon}
                                                onChange={(e) => setNewBadge(prev => ({ ...prev, icon: e.target.value }))}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                            >
                                                {iconOptions.map(icon => (
                                                    <option key={icon} value={icon}>{icon}</option>
                                                ))}
                                            </select>
                                        </div>
                                        
                                        <div className="flex items-center">
                                            <label className="flex items-center">
                                                <input 
                                                    type="checkbox"
                                                    checked={newBadge.autoAssign}
                                                    onChange={(e) => setNewBadge(prev => ({ ...prev, autoAssign: e.target.checked }))}
                                                    className="mr-2"
                                                />
                                                <span className="text-sm">Enable Auto-Assignment</span>
                                            </label>
                                        </div>
                                        
                                        <div className="md:col-span-2">
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Criteria Keywords</label>
                                            <div className="flex space-x-2 mb-3">
                                                <input 
                                                    type="text"
                                                    value={criteriaInput}
                                                    onChange={(e) => setCriteriaInput(e.target.value)}
                                                    className="flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-green-500"
                                                    placeholder="Add keyword for auto-detection"
                                                    onKeyPress={(e) => e.key === 'Enter' && addCriteria()}
                                                />
                                                <button 
                                                    onClick={addCriteria}
                                                    className="px-4 py-2 eco-bg-green text-white rounded-lg hover:bg-green-700"
                                                >
                                                    Add
                                                </button>
                                            </div>
                                            <div className="flex flex-wrap gap-2">
                                                {newBadge.criteria.map((criterion, index) => (
                                                    <span key={index} className="px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full flex items-center">
                                                        {criterion}
                                                        <button 
                                                            onClick={() => removeCriteria(index)}
                                                            className="ml-2 text-red-600 hover:text-red-800"
                                                        >
                                                            <i className="fas fa-times text-xs"></i>
                                                        </button>
                                                    </span>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="p-6 border-t border-gray-200 flex justify-end space-x-3">
                                    <button 
                                        onClick={() => setShowAddBadge(false)}
                                        className="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
                                    >
                                        Cancel
                                    </button>
                                    <button 
                                        onClick={saveBadge}
                                        className="px-6 py-2 eco-bg-green text-white rounded-lg hover:bg-green-700"
                                    >
                                        Save Badge
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Sustainability Reports Component
        const SustainabilityReports = () => {
            const [reportData] = useState({
                overview: {
                    totalTreesPlanted: 12000,
                    co2Offset: 500,
                    sustainablePackaging: 95,
                    happyCustomers: 25000,
                    monthlyGrowth: 15.2
                },
                products: [
                    { name: 'Bakuchiol Glow Serum', footprint: 0.5, sales: 234, impact: 117 },
                    { name: 'Beet Tinted Balm', footprint: 0.3, sales: 156, impact: 46.8 },
                    { name: 'Complete Glow Kit', footprint: 1.2, sales: 89, impact: 106.8 },
                    { name: 'Beet Glow Gummies', footprint: 0.8, sales: 167, impact: 133.6 }
                ],
                trends: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    treesPlanted: [800, 950, 1100, 1200, 1400, 1550],
                    co2Offset: [25, 30, 35, 42, 48, 55],
                    sustainableOrders: [65, 72, 78, 82, 88, 95]
                }
            });

            const chartRef = useRef(null);

            useEffect(() => {
                if (chartRef.current) {
                    const ctx = chartRef.current.getContext('2d');
                    new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: reportData.trends.labels,
                            datasets: [
                                {
                                    label: 'Trees Planted',
                                    data: reportData.trends.treesPlanted,
                                    borderColor: '#228B22',
                                    backgroundColor: 'rgba(34, 139, 34, 0.1)',
                                    yAxisID: 'y'
                                },
                                {
                                    label: 'CO2 Offset (kg)',
                                    data: reportData.trends.co2Offset,
                                    borderColor: '#3B82F6',
                                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                    yAxisID: 'y1'
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                }
                            },
                            scales: {
                                y: {
                                    type: 'linear',
                                    display: true,
                                    position: 'left',
                                },
                                y1: {
                                    type: 'linear',
                                    display: true,
                                    position: 'right',
                                    grid: {
                                        drawOnChartArea: false,
                                    },
                                }
                            }
                        }
                    });
                }
            }, []);

            return (
                <div className="space-y-6">
                    {/* Overview Cards */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div className="bg-green-50 rounded-lg p-6">
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-green-600 text-sm font-medium">Trees Planted</p>
                                    <p className="text-2xl font-bold text-green-800">{reportData.overview.totalTreesPlanted.toLocaleString()}</p>
                                </div>
                                <i className="fas fa-tree text-2xl text-green-600"></i>
                            </div>
                            <p className="text-green-700 text-sm mt-2">+{reportData.overview.monthlyGrowth}% this month</p>
                        </div>
                        
                        <div className="bg-blue-50 rounded-lg p-6">
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-blue-600 text-sm font-medium">CO2 Offset</p>
                                    <p className="text-2xl font-bold text-blue-800">{reportData.overview.co2Offset} kg</p>
                                </div>
                                <i className="fas fa-cloud text-2xl text-blue-600"></i>
                            </div>
                            <p className="text-blue-700 text-sm mt-2">Monthly reduction</p>
                        </div>
                        
                        <div className="bg-purple-50 rounded-lg p-6">
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-purple-600 text-sm font-medium">Sustainable Packaging</p>
                                    <p className="text-2xl font-bold text-purple-800">{reportData.overview.sustainablePackaging}%</p>
                                </div>
                                <i className="fas fa-recycle text-2xl text-purple-600"></i>
                            </div>
                            <p className="text-purple-700 text-sm mt-2">Of all orders</p>
                        </div>
                        
                        <div className="bg-orange-50 rounded-lg p-6">
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-orange-600 text-sm font-medium">Happy Customers</p>
                                    <p className="text-2xl font-bold text-orange-800">{reportData.overview.happyCustomers.toLocaleString()}</p>
                                </div>
                                <i className="fas fa-heart text-2xl text-orange-600"></i>
                            </div>
                            <p className="text-orange-700 text-sm mt-2">Eco-conscious buyers</p>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        {/* Sustainability Trends Chart */}
                        <div className="bg-white rounded-lg shadow-sm p-6">
                            <h3 className="text-lg font-semibold text-gray-800 mb-4">Sustainability Trends</h3>
                            <canvas ref={chartRef} width="400" height="200"></canvas>
                        </div>

                        {/* Product Impact Table */}
                        <div className="bg-white rounded-lg shadow-sm p-6">
                            <h3 className="text-lg font-semibold text-gray-800 mb-4">Product Environmental Impact</h3>
                            <div className="space-y-4">
                                {reportData.products.map((product, index) => (
                                    <div key={index} className="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                        <div>
                                            <p className="font-medium text-gray-800">{product.name}</p>
                                            <p className="text-sm text-gray-600">{product.sales} units sold</p>
                                        </div>
                                        <div className="text-right">
                                            <p className="text-sm text-gray-600">Impact: {product.impact} kg CO2e</p>
                                            <p className="text-xs text-green-600">{product.footprint} kg per unit</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Main Sustainability Tools Component
        const SustainabilityTools = () => {
            const [activeTab, setActiveTab] = useState('calculator');

            const tabs = [
                { id: 'calculator', label: 'Carbon Calculator', icon: 'fas fa-calculator' },
                { id: 'badges', label: 'Eco Badges', icon: 'fas fa-award' },
                { id: 'reports', label: 'Reports', icon: 'fas fa-chart-line' }
            ];

            return (
                <div className="min-h-screen bg-gray-50 p-6">
                    <div className="mb-8">
                        <h1 className="text-3xl font-bold text-gray-800 mb-2">Sustainability Tools</h1>
                        <p className="text-gray-600">Manage your environmental impact and eco-certifications</p>
                    </div>

                    {/* Tab Navigation */}
                    <div className="border-b border-gray-200 mb-8">
                        <nav className="-mb-px flex space-x-8">
                            {tabs.map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${
                                        activeTab === tab.id
                                            ? 'border-green-500 text-green-600'
                                            : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                                    }`}
                                >
                                    <i className={`${tab.icon} mr-2`}></i>
                                    {tab.label}
                                </button>
                            ))}
                        </nav>
                    </div>

                    {/* Tab Content */}
                    <div>
                        {activeTab === 'calculator' && <CarbonCalculator />}
                        {activeTab === 'badges' && <EcoBadgeManager />}
                        {activeTab === 'reports' && <SustainabilityReports />}
                    </div>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<SustainabilityTools />, document.getElementById('sustainability-app'));
    </script>
</body>
</html>